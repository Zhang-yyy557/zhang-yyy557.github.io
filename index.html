<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>向向向星宇宇宇</title>
    <style>

* {
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    background-color: #f0f0f0;
    margin: 0;
    padding: 0;
}

/* ============ title部分框架 ============ */
.title-box{
    height: 100px;
    /* background-color: pink; */
    
}

/* ============= title内容 ============= */
.title-item1{
    justify-content: center;
    align-items: center;
    margin-left: 120px;
    padding-top: 33px;
    color: white;
    font-size: 20px;
    font-family:Microsoft YaHei;
}

.title-item2{
    margin-top: 10px;
    justify-content: center;
    align-items: center;
    margin-left: 120px;
    color: white;
    font-size: 30px;
    font-family:Microsoft YaHei;
}

/* ============ 大盒子框架 =============== */
.carousel-container {
    display: flex;
    height: 720px;
    /* background-color: pink; */
}

/* ============ 轮播图盒子框架 ============== */
.carousel {
    flex: 1;
    position: relative;
    height: 620px; /* 设置轮播图高度 */
    overflow: hidden;
    margin-top: 40px;
    margin-right: 100px;
    /* background-color: green; */
}

/* =========== 轮播图内容 ========= */
.carousel-item {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 0.5s ease;
}

.carousel-item.active {
    opacity: 1;
}

/* =============== 轮播图控制 ============= */
.dots {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin-left: 120px;
}

/* ============= 控制轮播图的点状样式 =========== */
.dot {
    height: 50px;
    width: 180px;
    margin-right: 60px;
    margin-top: 45px;
    margin-bottom: 45px;
    color: white;
    /* background-color: gray; */
    /* border-radius: 50%; */
    /* display: inline-block; */        /* 样式变为点状 */
    font-size: 22px;
    font-family:Microsoft YaHei;

    transition: background-color 0.3s;
}

.dot.active {
    color: rgb(113, 113, 203);
}

.dot:hover {
    color: lightgray;
}

/* 动画效果 */
@keyframes dotClickAnimation {
    0% { transform: scale(1); }
    50% { transform: scale(1.5); }
    100% { transform: scale(1); }
}

/* 切换轮播图载入时间 */
.dot.active {
    animation: dotClickAnimation 1.5s forwards;
}


img{
    width: 100%; /* 图片宽度自适应盒子宽度 */
    height: 100%; /* 图片高度自适应盒子高度 */
    object-fit: contain; /* 保持比例，整体显示 */
    display: block; /* 去掉底部空白 */
    /* opacity:0.8   设置图片透明度 */
}


.comment{
    height: 50px;
    width: 400px;
    margin-left: 650px;
}

.comment_detail{
    float: left;
    color: black;
    font-size: 20px;
    font-family:Microsoft YaHei;
    /* 描述弹性盒子容器的对齐方式 */
    justify-content: center; 
    align-items: center;
    line-height:50px; 
    text-align:center;
}

.comment_key{
    float: left;
    color: white;
    font-size: 30px;
    font-family:Microsoft YaHei;
    /* 描述弹性盒子容器的对齐方式 */
    justify-content: center; 
    align-items: center; 
    line-height:40px; 
    text-align:center;
}


/* =================== 内嵌轮播图盒子样式 ===================== */

/* =================== 滑动盒子的样式 ================ */
.slide-box {
    position: relative;
    margin: 5px auto 20px auto;
    height: 540px;
    max-width: 1200px;
    min-width: 700px;
    top: 50px;
    /* background-color: antiquewhite; */
  }
  
  .banner-box {
    position: relative;
    height: 100%;
    width: 100%;
  }
  
  .banner-item {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 500px;
    height: 90%;
    background-color: #000;
    box-sizing: border-box;
    border-radius: 10px;
    overflow: hidden;
    transition: all 0.5s;
    z-index: 0;
  }
  
  .banner-item>img {
    display: block;
    width: 100%;
    height: 100%;
    opacity: 0.5;
    transform: opacity 0.5s;
    object-fit: cover;
  }
  
  .banner-item.left {
    left: 0;
    transform: translateX(0);
    z-index: 50;
  }
  
  .banner-item.right {
    left: 100%;
    transform: translateX(-100%);
    z-index: 50;
  }
  
  .banner-item.middle {
    width: 550px;
    height: 100%;
    z-index: 100;
  }
  
  .banner-item.middle>img {
    opacity: 1;
  }
  
  /* 滑动按键样式设置 */
  .slide-left-btn, .slide-right-btn {
    position: absolute;
    top: 50%;
    z-index: 200;
    width: 40px;
    height: 40px;
    font-size: 30px;
    font-weight: 900;
    color: #b4b4b4;
    border: none;
    background: none;
  }
  
  .slide-left-btn:hover, .slide-right-btn:hover {
    color: #fff;
  }
  
  .slide-left-btn {
    left: 1%;
  }
  
  .slide-right-btn {
    right: 1%;
  }
  
  /* 下方的滑动条 */
  .pagination-box {
    margin-top: 20px;
    width: 100%;
    display: flex;
    justify-content: center;
  }
  
  .pagination-box>span {
    width: 20px;
    height: 6px;
    border-radius: 3px;
    margin: 0 4px;
    background-color: #b4b4b4;
  }
  
  .pagination-box>span.chose {
    background-color: #ff4444;
  }

  /* .banner-item.middle:hover{
    top: 30px;
    width: 500px;
    height: 450px;
    box-shadow: 0 0 20px rgba(0,0,0,0.8);
  }  */


  .ikon0{
    position: absolute;
    top: 17px;
    left: 460px;
    width: 130px;
    height: 130px;
  }

  .cat_tip{
    position: absolute;
    top: 17px;
    left: 550px;
    width: 1099px;
    width: 1099px;
    background-color: red;
  }

  .emoji{
    position: absolute;
    top: 0px;
    left: 1000px;
    width: 50px;
    height: 50px;
  }




.container{
  position: relative; 
  z-index: 10; 
  height: 100%;
  width: 100%;
}


.button_jump{
  top: 10px;
  left: 5px;
  width: 100px;
  height: 100px;
  background-color: yellow;
}


.ikon1_first_box{
  height: 300px;
}

.ikon1_box{
  float: left;
  position: relative;
  height: 300px;
  width: 250px;
  object-fit: contain; /* 保持比例，整体显示 */
  display: block; /* 去掉底部空白 */
  left: 20px;
}

.ikon1_chat{
  position: absolute;
  left: 320px;
  top: 20px;
  height: 260px;
  width: 700px;
  color: black;
  font-size: 16px;
  font-family:Microsoft YaHei;
}

.ikon2_second_box{
  height: 320px;
  opacity:0;
}

.ikon2_box{
  float: left;
  position: relative;
  height: 300px;
  width: 250px;
  object-fit: contain; /* 保持比例，整体显示 */
  display: block; /* 去掉底部空白 */
  left: 20px;
  top: 10px;
  /* background-color: rosybrown; */
}

.ikon2_chat{
  position: absolute;
  left: 320px;
  top: 30px;
  height: 260px;
  width: 700px;
  color: black;
  font-size: 16px;
  font-family:Microsoft YaHei;

}


/* 故事线 */
/* body {
  font-family: Arial, sans-serif;
  margin: 20px;
  background-color: #f4f4f4;
} */
.story-container {
  max-width:650px;
  margin: auto;
  padding: 20px;
  border: 1px solid #ccc;
  background-color: white;
  position: relative;
  overflow: hidden;
  height: 320px;
  z-index: 10;
}
.story {
  opacity: 0;
  position: absolute;
  width: 100%;
  transition: opacity 0.5s ease-in-out;
}
.story.active {
  opacity: 1;
}
button {
  margin-top: 20px;
  margin-left: 5px;
  margin-right: 5px;
  padding: 8px 12px;
  font-size: 14px;
  cursor: pointer;
  border: none;
  background-color: #76c7c0;
  color: white;
  border-radius: 5px;
}
button:disabled {
  background-color: #ccc;
  cursor: not-allowed;
}
.progress-container {
  margin-top: 30px;
  display: flex;
  align-items: center;
}
.progress-bar {
  flex: 1;
  height: 10px;
  background-color: #e0e0e0;
  border-radius: 5px;
  position: relative;
  margin-right: 10px;
}
.progress-fill {
  height: 100%;
  background-color: #76c7c0;
  border-radius: 5px;
  width: 0;
  transition: width 0.3s ease;
}

/* 切换进度按钮 */
.progress-buttons {
  display: none; /* 默认隐藏 */
  margin-top: 10px;
}


/* 致信部分 */
.lyric{
  opacity: 0;
  font-size: 20px;
  letter-spacing: 5px;
}

.envolop_button_box{
  position: relative;
  left: 800px;
  top: 0px;
  height: 100px;
  width: 100px;
  background-color: #ff4444;
  border-radius: 80%;
  opacity: 0;
}        
    </style>

    <!-- Google Font-->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins&display=swap">


    <!-- ================ 动画外部链接 =============== -->
        <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
      />

    <!-- ====================== 提示框外部链接 ================== -->
        <!-- 引入 SweetAlert CSS 和 JS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>

    <!-- ====================================================== -->


</head>
<!-- background-attachment设置背景固定 background-repeat -->
<body background="pic/4.jpg" style="background-size: 100% 100%; background-attachment: fixed; background-repeat: no-repeat;">

    <div class="title-box">
        <div class="title-item1" style="letter-spacing: 5px; color: black;">
            <b> To 星星 ~</b>
        </div>
        <div class="title-item2" style="letter-spacing: 8px; color: black;">
            <b>小张有话想对你说~</b>
            
        </div>
    </div>

    <div class="ikon0" id="ikon_cat">
        <img src="pic/猫猫选中.png" alt="" onclick="show_another_tip()">
    </div>


    <div class="carousel-container ">
        <div class="dots">
            <span class="dot active" onclick="currentSlide(0)">开篇</span>
            <span class="dot" onclick="currentSlide(1)">可爱的星星</span>
            <span class="dot" onclick="currentSlide(2)">一些小故事</span>
            <span class="dot" onclick="currentSlide(3)">致星星的一封信</span>
        </div>

        <div class="carousel">
            <!-- 页面1 -->
            <div class="carousel-item active">
                <div class="container">
                    <div class="ikon1_first_box">
                        <div class="ikon1_box">
                            <img src="pic/ikon2.jpg" alt="大熊猫" onclick="showchat()" >
                        </div>
                        <div class="ikon1_chat">
                            <h1 align="center">欢迎来到Zhangyyy的小世界</h1>
                            <p align="center">
                                <b>小向~还记得我很久之前跟你说的“惊喜和惊吓”吗 这就是我蓄谋已久的“惊喜和惊吓”啦</b>
                            </p>
                            <p align="center">
                                <b>希望不会真的吓到你 下面的内容是我一直想对你说的话(超认真超正经)</b>
                            </p>
                            <p align="center">
                                <b>可能你看到这里已经猜到了 我要说什么了(也说不定没想那么多 哈哈哈哈哈哈)</b>
                            </p>
                            <p align="left" style="color: coral;letter-spacing: 5px; font-size: 14px;">
                                <b>之后的内容要认真读完哦 有很多tips记得看哟 例如下面这个：</b>
                            </p>
                            <p align="left" style="letter-spacing: 5px; color: coral; font-size: 14px;">
                                <b>张:点一下上面的猫猫头有惊喜~</b>
                            </p>
                            
                        </div>
                    </div>
                    <div class="ikon2_second_box" id="whole_ikon2_box">
                        <div class="ikon2_box">
                            <img src="pic/ikon3.jpg" alt="胡思乱想" onclick="Go_to_Confuse()" >
                        </div>
                        <div class="ikon2_chat" >
                            <h2 align="center">张说：呜呜呜 真的要哭了</h2>
                            <p align="center">
                                <b>小熊猫啊 你知道吗 现在我的心情就跟左边的一样一样的：既复杂又紧张 各种胡思乱想</b>
                            <p align="center">
                                <b>没关系的吧 反正她又不可能吃了我 对吧对吧 没事的没事的没事的</b>
                            </p>
                            <p align="center">
                                <b>啊啊啊啊啊 没关系 她要真想吃掉我的话 吃掉就吃掉吧 只要她不要不理我就行</b>
                            </p>  
                        </div>
                    </div>
                </div>
                
            </div>

            <!-- 页面2 -->
            <div class="carousel-item">
                <div class="container">
                    <div id="comment_text" style="
                        position: absolute;
                        top: 3px;left: 10px;  
                        height: 50px;width: 1050px;
                        color: black; 
                        font-size: 18px;
                        text-align:left;
                        padding-left: 15px;
                        font-family:STLiti;
                        letter-spacing: 3px;
                        line-height: 22px;
                        ">
                    tips : 点一下中间的图片!
                    </div>

                    <div class="slide-box">
                        <div class="banner-box"></div>
                            <button class="slide-left-btn material-icons"></button>
                            <button class="slide-right-btn material-icons"></button>
                        <div class="pagination-box"></div>
                    </div>
                </div>

            </div>

            <!-- 页面3 -->
            <div class="carousel-item">
                <div class="container">
                    <!-- <ul>
                        <li>聊了好久？漂流聊到3点</li>
                        <li>见面？很紧张 感受</li>
                        <li>遇到酒鬼？很担心</li>
                        <li>相似的经历？共情又珍惜</li>
                        <li>每个分享故事的夜晚？高中生活、以前的经历、未来、囧事、秘密</li>
                        <li>之后的每天每天都想给你分享日常？照片、游戏、段子、鬼故事、吐槽校园生活</li>
                        <li>很想逗你开心？跳舞、拍自拍、搞笑的聊天记录、</li>
                        <li>一直很想见你？国庆、寒假约定(拍照、篮球、猫咖、看中医、带你去看花溪的风景、台球)</li>
                        <li>很想往你的理想型去发展和改变？感觉第一</li>
                        <li>赖着你粘着你是心里话？</li>
                        <li>玩得好的男生？绕弯子？</li>
                        <li>同频？unkown</li>
                        <li>缘分？相互喜欢？</li>
                        <li>幼稚？想找一个陪我一起幼稚的人</li>
                        <li>和她很像？</li>
                        <li>多久喜欢？安慰、温暖、幸运、性格</li>
                    </ul> -->
                    <h1>故事线</h1>
                    <div class="story-container">
                        <div class="story active"><h3>故事1</h3>
                            <p>
                                8.22
                                <br>
                                &nbsp; &nbsp; &nbsp; &nbsp; 还记得这一天吗，这是我第一次和你聊到深夜，从我漂流落水开始，聊到高中生活
                                <br>
                                大学生活，再到性格上的重新认识。我对你的印象有了很多改变，唯一不变的是我仍然觉
                                <br>
                                得你如高中一般：开朗、热心、单纯还有善良。
                                <br>
                                &nbsp; &nbsp; &nbsp; &nbsp; 实际上，在这一天前，我并没有想过我和你会聊得这么投机，因为在此之前我一直
                                <br>
                                认为我和你是两个世界的人，就如你所说的，高中觉得我好高冷，不想跟你们一起玩。
                                <br>
                                maybe，你可能说的是对的，我对我自己也不太了解，有时候自己也会很矛盾。但是从
                                <br>
                                今晚开始，我觉得我和你也可以是一个世界的人了，可能在你安慰我的某个时刻，亦或是
                                <br>
                                相互之间鼓励的一些话语，就开始这样觉得了。
                                <br>
                                &nbsp; &nbsp; &nbsp; &nbsp; 总而言之，在今晚我重新认识了一个叫向星宇的女孩子，她很温柔，就像冬日里的
                                <br>
                                暖阳，温暖着世界，亦温暖着我。
                            </p>
                        </div>
                        <div class="story"><h3>故事2</h3>
                            <p>
                                8.29
                                <br>
                                &nbsp; &nbsp; &nbsp; &nbsp; 2024年8月29号，我对这一天的记忆尤为深刻，因为这一天和你见面啦，可能你觉得
                                <br>
                                这就是普通的见面，但是我真的很少单约女孩子出来，而且这个女孩子还是向星宇，可能
                                <br>
                                你会觉得我又夸张了，但是我可以认真的告诉你，在去见你的路上，我一路心里都砰砰跳，
                                <br>
                                在车上我会想，一会见你我应该以什么样的方式去面对你。听到这里你可能觉得我太刻意，
                                <br>
                                应该放轻松，应该随意一点。但是我想说，因为是你，所以我就很想认真对待，我会想很
                                <br>
                                很多事情：想接下来的安排、想怎么样才能照顾到你、想一会儿我应该讲怎么样的话......
                                <br>
                                &nbsp; &nbsp; &nbsp; &nbsp; 说到这里，其实相比起我想去观山湖拍风景，我更想去见你。一开始我跟你说我想去
                                <br>
                                你那边拍一些照片，其实呢，也是我找的借口啦，哈哈哈。你可能会想，如果当时你拒绝
                                <br>
                                说不让我来呢，其实我一开始也有想过你会拒绝，因为就像你说的，对我的印象很高冷，
                                <br>
                                我俩可能不太搭边，会非常尴尬。但我真的很想见你，所以我决定勇敢一回、豪赌一把
                                <br>
                                
                            </p>
                        </div>
                        <div class="story"><h3>故事3</h3>
                            <p>
                                8.30
                                <br>
                                &nbsp; &nbsp; &nbsp; &nbsp;最后一天了，我们都将离开这座热情、温暖、有你亦有我的城市。在临走前，我总
                                <br>
                                幻想也许今天还能再见到你，不过转头一想，我并不想突然的出现打扰到你的生活，可能
                                <br>
                                你自己也有感觉到我的冒然闯入，哈哈哈。anyway，希望你呢不要介意。
                                <br>
                                &nbsp; &nbsp; &nbsp; &nbsp;你说你要去拍照片，而我刚从机场回来，被他们拉去了清吧。想到自己马上就要离开，
                                <br>
                                心里竟有些许的悲凉和不舍，也许是舍不得家里的大床、舍不得贵阳的朋友们、又或许是
                                <br>
                                舍不得这座有你的城市，可能你觉得我又在说这种假惺惺的话了，哈哈哈，maybe是假的，
                                <br>
                                也可能是真的，我的心理总是复杂的，但是想到见不到你，我心里确实空空的。三两杯酒
                                <br>
                                下肚，酒过三巡，愈发地看不清楚清吧台上的霓虹灯了。你说你遇上了酒鬼坏蛋，我真的
                                <br>
                                恨不得马上冲到你的面前，警告那个酒鬼。我盯着手机等着你的讯息，我甚至在想一会儿
                                <br>
                                如何跟在座的解释，我想说的那句话还是咽了下去烂在了肚子里。你告诉我已经安全到家
                            </p>
                        </div>
                        <div class="story"><h3>故事4</h3>
                            <p>
                                9.3
                                <br>
                                &nbsp; &nbsp; &nbsp; &nbsp;今天可能对于你来说是平凡的一天，但对于我来说却是印象深刻。凌晨一两点，我们
                                <br>
                                分享故事，聊到了情感的问题，我与你交换故事，类似的经历总让人感同深受，内心是无
                                <br>
                                限的共情、心疼和珍惜。看到平时乖乖的、傻傻的你也会遇到这样的经历，真的我心里挺
                                <br>
                                不好受的，但想到感情不就如此嘛，你情我愿，不分对错。
                                <br>
                                &nbsp; &nbsp; &nbsp; &nbsp;anyway，我觉得过去那些所谓不好的经历，其实也并没有什么，至少呢在这些经历中
                                <br>
                                我学会了，如何去尊重和爱，以及应该如何对待我爱的人。这可能就是所谓的成长吧。
                                <br>
                                &nbsp; &nbsp; &nbsp; &nbsp; 算下来，我的上一段情感经历像是已经过去了一个世纪了，期间虽然遇到了很多人，
                                <br>
                                但是我真的感觉我那颗心已经没有力再去爱了，他们说我是水泥封心、说我挑三拣四、
                                <br>
                                说我还处在上一段感情中。其实并不然，而是我没有感受到喜欢的那种感觉，那种纯粹
                                <br>
                                的感觉，发自内心的感觉。之前可能没有，现在我感受到了。
                            </p>
                        </div>
                        <div class="story"><h3>故事5</h3>
                            <p>这是故事一的详细描述。</p>
                        </div>
                        <div class="story"><h3>故事6</h3>
                            <p>这是故事二的详细描述。</p>
                        </div>
                        <div class="story"><h3>故事7</h3>
                            <p>这是故事三的详细描述。</p>
                        </div>
                        <div class="story"><h3>故事8</h3>
                            <p>这是故事四的详细描述。</p>
                        </div>
                        <div class="story"><h3>故事9</h3>
                            <p>这是故事一的详细描述。</p>
                        </div>
                        <div class="story"><h3>故事10</h3>
                            <p>这是故事二的详细描述。</p>
                        </div>
                        <div class="story"><h3>故事11</h3>
                            <p>这是故事三的详细描述。</p>
                        </div>
                        <div class="story"><h3>故事12</h3>
                            <p>这是故事四的详细描述。</p>
                        </div>
                        <div class="story"><h3>故事13</h3>
                            <p>这是故事三的详细描述。</p>
                        </div>
                        <div class="story"><h3>故事14</h3>
                            <p>这是故事四的详细描述。</p>
                        </div>
                    </div>
                    <button id="nextButton" onclick="alert_stroy()">下一条故事</button>
                    <button id="toggleProgressButton">切换进度</button>
                    
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                    </div>
                    <div class="progress-buttons" id="progressButtons"></div>

                </div>
            </div>

            <!-- 页面4 -->
            <div class="carousel-item">
                <div class="container" style="position: relative; top: 40px; left:100px; background-color: bisque; text-align: center; padding-top: 33px; border-radius: 20px; width: 700px;height: 550px;letter-spacing: 1px;">
                    <h1 class="lyric" id="ly1" style="font-size: 35px;">爱在西元前 - 周杰伦 (Jay Chou)</h1>
                    <p class="lyric" id="ly2">
                        古巴比伦王颁布了 汉摩拉比法典
                    </p>
                    <p class="lyric" id="ly3">
                        刻在黑色的玄武岩 距今已经三千七百多年
                    </p>
                    <p class="lyric" id="ly4">
                        你在橱窗前 凝视碑文的字眼
                    </p>
                    <p class="lyric" id="ly5">
                        我却在旁静静欣赏 你那张我深爱的脸
                    </p>
                    <p class="lyric" id="ly6">
                        祭司神殿征战 弓箭是谁的从前
                    </p>
                    <p class="lyric" id="ly7">
                        喜欢在人潮中 你只属于我的那画面
                    </p>
                    <p class="lyric" id="ly8">
                        经过苏美女神身边 我以女神之名许愿
                    </p>
                    <div class="envolop_button_box" id="envolop_button_box" onclick="goToSecondPage()"></div>
                </div>
            </div>

        </div>

    </div>
    
    <script>
// 猫猫图动画
var cat_sign = 0
var cat_sign_frist = 0
var cat_sign_second = 0
var cat_sign_thrid = 0
var cat_sign_fourth = 0
var cat_sign_fifth = 0
var cat_sign_sixth = 0

//点击第一张图片的tip
var sign_mouse = 1

//致信部分动画
var sign_lyric = 0

let currentIndex = 0;
const items = document.querySelectorAll('.carousel-item');
const dots = document.querySelectorAll('.dot');

function showSlide(index) {
    items.forEach((item, i) => {
        item.classList.remove('active');
        dots[i].classList.remove('active');
    });
    items[index].classList.add('active');
    dots[index].classList.add('active');
}

function currentSlide(index) {
    currentIndex = index;
    showSlide(currentIndex);
    if(currentIndex === 3)
    {
      show_whole_lyric()
    }
}



// 轮播图动画 ========================================


class Slide {
    constructor() {
      this.slideBoxDOM = document.querySelector('.slide-box');
      this.slideLeftBtnDOM = this.slideBoxDOM.querySelector('.slide-left-btn');
      this.slideRightBtnDOM = this.slideBoxDOM.querySelector('.slide-right-btn ');
      this.bannerBoxDOM = this.slideBoxDOM.querySelector('.banner-box');
      this.paginationBoxDOM = this.slideBoxDOM.querySelector('.pagination-box');
  
      // 记数器，记录当前所展示的横幅序号（不可直接操作变值）
      this._currentIndex = 0;
      this.bannerItemDOMs = null;
      // bannerItemDOMs length
      this.bannerItemDOMsLen = 0;
  
      // 图片对象数组
      this.banners = [
        {
          imageName: '1.jpg',
        },
        {
          imageName: '2.jpg',
        },
        {
          imageName: '3.jpg',
        },
        {
          imageName: '4.jpg',
        },
        {
          imageName: '5.jpg',
        },
        {
          imageName: '6.jpg',
        },
        {
          imageName: '7.jpg',
        },
        {
          imageName: '8.jpg',
        },
        {
          imageName: '9.jpg',
        },
        // 可以继续增加图片
      ];
      this.imageUrl = './images/';

      // 定时器
      this.timer = null;
    }
  
    get currentIndex() {
      return this._currentIndex;
    }
  

    // 用来监听记数器变化，根据变换来改变当前的横幅
    set currentIndex(num) {

      // 将所有横幅归初始
      Object.values(this.bannerItemDOMs).forEach((item, i) => {
        item.classList.remove('left', 'middle', 'right');
        item.onclick = null;
        this.paginationBoxDOM.children[i].classList.remove('chose');
      });
  
      if (num < 0) {
        this._currentIndex = this.bannerItemDOMsLen - 1;
      } else if (num >= this.bannerItemDOMsLen) {
        this._currentIndex = 0;
      } else {
        this._currentIndex = num;
      }
      this.paginationBoxDOM.children[this._currentIndex].classList.add('chose');
  
      if (this._currentIndex === 0) {
        this.showCurrentBanner(this.bannerItemDOMsLen - 1, this._currentIndex, this._currentIndex + 1);
      } else if (this._currentIndex === this.bannerItemDOMsLen - 1) {
        this.showCurrentBanner(this._currentIndex - 1, this._currentIndex, 0);
      } else {
        this.showCurrentBanner(this._currentIndex - 1, this._currentIndex, this._currentIndex + 1);
      }

      var click_pic = document.querySelector('.banner-item.middle')

      

      if(this._currentIndex === 0)
      {
        console.log("这是第一张图片");
        click_pic.onclick = function(){
          if(sign_mouse == 1)
          {
            swal("张：", "啊哈 没错就是这样点一下中间的照片\n不同的照片click一下有不同的故事哟", "success");
            sign_mouse = 0
          }
          var box = document.getElementById('comment_text');
          box.innerText = '张："还记得这张照片吗 这是见面时 我觉得拍得最满意的一张 我在下面调整镜头对准你\n - - - 就像仰望天上的星星一样 星星是一闪一闪的引人注目的"'
          
        }
      }
      else if(this._currentIndex === 1)
      {
        console.log("这是第二张图片");
        click_pic.onclick = function(){
          var box = document.getElementById('comment_text');
          box.innerText = '张："这一组照片我都很喜欢 你真的好漂亮鸭! ! !\n - - - 你总说照片不像你本人 我觉得哈 照片嘛更像是预告片 真正的电影还得看现场版 而我恰巧看过 ~ 比照片好看上千倍呢"'
        }
      }
      else if(this._currentIndex === 2)
      {
        console.log("这是第三张图片");
        click_pic.onclick = function(){
          var box = document.getElementById('comment_text');
          box.innerText = '张："这张照片呢是和你交换照片的时候得到的呢 现在已经被装进了我的相册里面咯\n - - - 公主的照片我当然得好好存起来啦！这一张也不例外，每一次心烦意乱、不开心、想见你就忍不住翻开相册"'
        }
      }
      else if(this._currentIndex === 3)
      {
        console.log("这是第四张图片");
        click_pic.onclick = function(){
          var box = document.getElementById('comment_text');
          box.innerText = '张："这一张也是你发给我的呢 不过你耍赖了 这是你的pyq里面的一张\n - - - 呜呜呜 就很想捏你的脸 再摸摸脑袋 tip:再点一下猫猫头"'
          cat_sign_frist=1;
        }
      }
      else if(this._currentIndex === 4)
      {
        console.log("这是第五张图片");
        click_pic.onclick = function(){
          var box = document.getElementById('comment_text');
          box.innerText = '张："这是国庆你出去玩没有发给我的一张 又是我去pyq翻翻找找\n - - - 每次看你的照片就很喜欢看你的眼睛 璀璨如星星 耀眼如月色"'
        }
        click_pic.onmouseleave = function(){
          var box = document.getElementById('comment_text');
        }
      }
      else if(this._currentIndex === 5)
      {
        console.log("这是第六张图片");
        click_pic.onclick = function(){
          var box = document.getElementById('comment_text');
          box.innerText = '张："交换照片的时候你说是超绝小学生的一张 而我却觉得像仙女下凡\n - - - 我真的很想说！谁的童话书落我这了！公主都跑出来了！！！"'
        }
        click_pic.onmouseleave = function(){
          var box = document.getElementById('comment_text');
        }
      }
      else if(this._currentIndex === 6)
      {
        console.log("这是第七张图片");
        click_pic.onclick = function(){
          var box = document.getElementById('comment_text');
          box.innerText = '张："这张呢是你pyq上的一张呢 没记错的话是在宁波拍的\n - - - 呜呜呜 这个眼镜配你真的很好看很可爱 要是亲眼见了你 我肯定都得化了"'
        }
        click_pic.onmouseleave = function(){
          var box = document.getElementById('comment_text');
        }
      }
      else if(this._currentIndex === 7)
        {
          console.log("这是第八张图片");
          click_pic.onclick = function(){
            var box = document.getElementById('comment_text');
            box.innerText = '张："你说这是你烫完头发之后拍的照片 我觉得超漂亮的呀\n - - - 果然美女不管怎么样都还是美女 你的美真的有点让我目不转睛了"'
          }
        }
        else if(this._currentIndex === 8)
          {
            console.log("这是第九张图片");
            click_pic.onclick = function(){
              var box = document.getElementById('comment_text');
              box.innerText = '张："这一张 我觉得也是超绝的 只能说你的漂亮和可爱 超越了光影的束缚 让我无法移开目光\n - - - 世界上有两种人最可爱 第一是向星宇这张 第二还是向星宇这种 tip:再点一下猫猫头"'
            }
            cat_sign_second = 1;
          }
    }
  
    // 显示当前横幅
    showCurrentBanner(leftIndex, middleIndex, rightIndex) {
      this.bannerItemDOMs[leftIndex].classList.add('left');
      this.bannerItemDOMs[middleIndex].classList.add('middle');
      this.bannerItemDOMs[rightIndex].classList.add('right');
      this.bannerItemDOMs[leftIndex].onclick = () => {
        this.currentIndex--;
      };
      this.bannerItemDOMs[rightIndex].onclick = () => {
        this.currentIndex++;
      }
    }
  
    // 获取 bannerItemDOMs
    getBannerItemDOMs() {
      return this.slideBoxDOM.querySelectorAll('.banner-item');
    }
  
    // 获取 banner-itemDOM 字符串，用来渲染 DOM
    getBannerItemHTML(imageName) {
      return `<div class="banner-item"><img src="${this.imageUrl+imageName}"></div>`
    }
  
    // 渲染 DOM
    drawDOM(banners) {
      this.bannerBoxDOM.innerHTML = banners.reduce((html, item) => {
        return html + this.getBannerItemHTML(item.imageName);
      }, '');
  
      this.banners.forEach((item,i) => {
        const span = document.createElement('span');
        span.addEventListener('mouseover', () => {
          this.currentIndex = i;
        });
        this.paginationBoxDOM.append(span);
      });
    }
  
    // 启动定时器
    openTimer() {
      if(!!this.timer) clearInterval(this.timer);
      this.timer = setInterval(() => {
        this.currentIndex++;
      }, 3000);
    }
  
    // 清除定时器
    stopTimer() {
      clearInterval(this.timer);
    }
  
    init() {
      // 初始化
      this.drawDOM(this.banners);
      this.bannerItemDOMs = this.getBannerItemDOMs();
      this.bannerItemDOMsLen = this.bannerItemDOMs.length;
      this.currentIndex = 0;
  
      // 监听事件
      this.slideLeftBtnDOM.addEventListener('click', () => {
        this.currentIndex--;
        console.log(currentIndex);
        
      });
      this.slideRightBtnDOM.addEventListener('click', () => {
        this.currentIndex++;
      });

      // // 自动轮播
      // this.openTimer();
      // this.slideBoxDOM.addEventListener('mouseover', () => {
      //   this.stopTimer();
      // });
      // this.slideBoxDOM.addEventListener('mouseout', () => {
      //   this.openTimer();
      // })
    }

}
new Slide().init();



// -------------------------------------------------------

function show_another_tip(){
  console.log("猫猫头被点击了！");
  const show_tip = document.getElementById('ikon_cat')
  console.log(cat_sign);
  console.log(cat_sign_frist);
  if(cat_sign === 0)
  {
    show_tip.setAttribute('class','ikon0 animate__animated animate__bounce')
    swal("猫猫头：", "摩西摩西 这件事你得问小熊猫 click一下它", "success");
    cat_sign++
  }
  else if(cat_sign === 1 & cat_sign_frist ===1)
  {
    show_tip.setAttribute('class','ikon0 animate__animated animate__swing')
    swal("张：", "向星宇！你真的好可爱呀！！！", "success");
    cat_sign++
  }
  else if(cat_sign === 2 & cat_sign_second ===1)
  {
      show_tip.setAttribute('class','ikon0 animate__animated animate__swing')
      swal("张：", "嘿嘿嘿 真的不是在夸你哈 只是在描述你(真心的)", "success");
      cat_sign++
  }
  else if(cat_sign === 3 & cat_sign_thrid ===1)
    {
      show_tip.setAttribute('class','ikon0 animate__animated animate__swing')
      swal("张：", "向星宇！你真的好可爱呀！！！", "success");
      cat_sign++
    }
  else if(cat_sign === 4 & cat_sign_fourth ===1)
    {
      show_tip.setAttribute('class','ikon0 animate__animated animate__swing')
      swal("张：", "向星宇！你真的好可爱呀！！！", "success");
      cat_sign++
    }
  else if(cat_sign === 5 & cat_sign_fifth ===1)
    {
      show_tip.setAttribute('class','ikon0 animate__animated animate__swing')
      swal("张：", "向星宇！你真的好可爱呀！！！", "success");
      cat_sign++
    }
  else if(cat_sign === 6 & cat_sign_sixth ===1)
    {
      show_tip.setAttribute('class','ikon0 animate__animated animate__swing')
      swal("张：", "向星宇！你真的好可爱呀！！！", "success");
      cat_sign++
    }
  
}

var panda_sign = 0
function showchat() {
  console.log("图片被点击了！");
  if(panda_sign === 0)
    {
      swal("小熊猫：","哦哦哦 你说这件事呀 张是这么对我说的", "success");
      const show_chat = document.getElementById('whole_ikon2_box')
      show_chat.style.opacity = '1'
      show_chat.setAttribute('class','ikon2_second_box animate__animated animate__slideInUp')
      panda_sign = 1
    }
}


function goToSecondPage() {
  window.location.href = 'envolop_xxy.html';
}



// 故事线
const stories = document.querySelectorAll('.story');
const progressFill = document.getElementById('progressFill');
const progressButtons = document.getElementById('progressButtons');
let story_currentIndex = 0;
let viewedIndices = new Set([0]); // 已看过的故事索引集合

// 初始化进度按钮
function initProgressButtons() {
    for (let i = 0; i < stories.length; i++) {
        const button = document.createElement('button');
        button.textContent = `故事 ${i + 1}`;
        button.addEventListener('click', () => goToStory(i));
        button.disabled = !viewedIndices.has(i); // 根据是否看过来设置按钮状态
        progressButtons.appendChild(button);
    }
}

// 更新进度条
function updateProgress() {
    const progressPercentage = ((story_currentIndex + 1) / stories.length) * 100;
    progressFill.style.width = progressPercentage + '%';
    updateProgressButtonStates(); // 更新进度按钮状态
}

// 切换到特定故事
function goToStory(index) {
    if (index >= 0 && index < stories.length) {
        stories[story_currentIndex].classList.remove('active');
        story_currentIndex = index;
        stories[story_currentIndex].classList.add('active');
        updateProgress();
    }
}

document.getElementById('nextButton').addEventListener('click', () => {
    // 标记当前故事为已看过
    viewedIndices.add(story_currentIndex+1);
    stories[story_currentIndex].classList.remove('active');
    story_currentIndex = (story_currentIndex + 1) % stories.length;
    stories[story_currentIndex].classList.add('active');
    updateProgress();
});

// 切换进度按钮的显示状态
document.getElementById('toggleProgressButton').addEventListener('click', () => {
    if (progressButtons.style.display === 'none' || progressButtons.style.display === '') {
        progressButtons.style.display = 'block'; // 显示进度按钮
    } else {
        progressButtons.style.display = 'none'; // 隐藏进度按钮
    }
});

// 更新进度按钮状态
function updateProgressButtonStates() {
    const buttons = progressButtons.querySelectorAll('button');
    buttons.forEach((button, index) => {
        button.disabled = !viewedIndices.has(index); // 仅启用已看过的按钮
    });
}

// 初始化
initProgressButtons();
updateProgress();

function alert_stroy(){
  console.log('点击下一个故事')
}


var sign_confuse = 1
function Go_to_Confuse()
{
  if(sign_confuse == 1)
  {
    swal("无名氏：", "干啥呀 别call我呀 我啥也不知道", "success");
    sign_confuse=0
  }
}



// 致信部分
const ly1 = document.getElementById('ly1')
const ly2 = document.getElementById('ly2')
const ly3 = document.getElementById('ly3')
const ly4 = document.getElementById('ly4')
const ly5 = document.getElementById('ly5')
const ly6 = document.getElementById('ly6')
const ly7 = document.getElementById('ly7')
const ly8 = document.getElementById('ly8')
const button_envolop = document.getElementById('envolop_button_box')

function show_lyric1(){
  ly1.style.opacity = '1'
  ly1.setAttribute('class','lyric animate__animated animate__fadeInUp')
}
function show_lyric2(){
  ly2.style.opacity = '1'
  ly2.setAttribute('class','lyric animate__animated animate__fadeInUp')
}
function show_lyric3(){
  ly3.style.opacity = '1'
  ly3.setAttribute('class','lyric animate__animated animate__fadeInUp')
}
function show_lyric4(){
  ly4.style.opacity = '1'
  ly4.setAttribute('class','lyric animate__animated animate__fadeInUp')
}
function show_lyric5(){
  ly5.style.opacity = '1'
  ly5.setAttribute('class','lyric animate__animated animate__fadeInUp')
}
function show_lyric6(){
  ly6.style.opacity = '1'
  ly6.setAttribute('class','lyric animate__animated animate__fadeInUp')
}
function show_lyric7(){
  ly7.style.opacity = '1'
  ly7.setAttribute('class','lyric animate__animated animate__fadeInUp')
}
function show_lyric8(){
  ly8.style.opacity = '1'
  ly8.setAttribute('class','lyric animate__animated animate__fadeInUp')
}
function show_envolop_button(){
  button_envolop.style.opacity = '1'
  button_envolop.setAttribute('class','envolop_button_box animate__animated animate__jackInTheBox')
}

function show_whole_lyric()
{
  setTimeout("show_lyric1()",1000)
  setTimeout("show_lyric2()",3000)
  setTimeout("show_lyric3()",5000)
  setTimeout("show_lyric4()",7000)
  setTimeout("show_lyric5()",8000)
  setTimeout("show_lyric6()",11000)
  setTimeout("show_lyric7()",13000)
  setTimeout("show_lyric8()",15000)
  setTimeout("show_envolop_button()",20000)
}
    
    </script>
</body>
</html>





